{"ast":null,"code":"import React,{useState}from\"react\";import DriveVideoEmbed from\"./DriveVideoEmbed.jsx\";import{useMediaQuery}from\"react-responsive\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function VideoSlider(_ref){var _videoList$;let{videoList,currentVideoId,setCurrentVideoId}=_ref;const isDesktop=useMediaQuery({query:\"(min-width: 801px)\"});const vertical=((_videoList$=videoList[0])===null||_videoList$===void 0?void 0:_videoList$.vertical)||false;const[initialId,setInitialId]=useState(0);const visibleVideos=isDesktop?vertical?4:2:vertical?2:1;function assignListIds(videos){return videos.map((video,listId)=>({...video,listId}));}videoList=assignListIds(videoList);const getDisplayVideos=startIndex=>{const videos=[];for(let i=0;i<visibleVideos;i++){const video=videoList[(startIndex+i)%videoList.length];if(video&&video.listId!==undefined&&!videos.some(v=>v.listId===video.listId)){videos.push(video);}}return videos;};const handleNext=()=>{setInitialId(prevId=>(prevId+visibleVideos)%videoList.length);};const handlePrev=()=>{setInitialId(prevId=>(prevId-visibleVideos+videoList.length)%videoList.length);};const handleVideoPlay=videoId=>{if(currentVideoId&&currentVideoId!==videoId){const currentIframe=document.getElementById(`iframe-${currentVideoId}`);if(currentIframe){currentIframe.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}',\"*\");}}setCurrentVideoId(videoId);};if(!Array.isArray(videoList)){console.error(\"Invalid or empty videoList:\",videoList);return null;}if(videoList.length===0){return/*#__PURE__*/_jsx(\"p\",{className:\"no-videos-message\",children:\"No videos match your search.\"});}const displayVideos=getDisplayVideos(initialId);return/*#__PURE__*/_jsxs(\"div\",{className:\"video-slider\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"arrows-videos-container\",children:[videoList.length>visibleVideos&&/*#__PURE__*/_jsx(\"button\",{className:\"arrows\",id:\"prev\",onClick:handlePrev,children:\"\\u276E\"}),/*#__PURE__*/_jsx(\"div\",{className:`videos-container ${vertical?\"\":\"horizontal\"}`,children:displayVideos.map(video=>/*#__PURE__*/_jsxs(\"div\",{className:\"video-item\",children:[/*#__PURE__*/_jsx(DriveVideoEmbed,{videoUrl:video.videoUrl,vertical:video.vertical,title:video.title,subtitle:video.subtitle,videoId:video.id,isPlaying:currentVideoId===video.id,onPlay:handleVideoPlay,thumbnail:video.thumbnail}),/*#__PURE__*/_jsx(\"h3\",{children:video.title}),/*#__PURE__*/_jsx(\"p\",{children:video.subtitle})]},video.id))}),videoList.length>visibleVideos&&/*#__PURE__*/_jsx(\"button\",{className:\"arrows\",id:\"next\",onClick:handleNext,children:\"\\u276F\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dots-container\",children:Array.from({length:videoList.length},(_,i)=>/*#__PURE__*/_jsx(\"span\",{className:`dot ${displayVideos.some(v=>v.listId===i)?\"active\":\"\"}`,onClick:()=>setInitialId(i)},i))})]});}export default VideoSlider;","map":{"version":3,"names":["React","useState","DriveVideoEmbed","useMediaQuery","jsx","_jsx","jsxs","_jsxs","VideoSlider","_ref","_videoList$","videoList","currentVideoId","setCurrentVideoId","isDesktop","query","vertical","initialId","setInitialId","visibleVideos","assignListIds","videos","map","video","listId","getDisplayVideos","startIndex","i","length","undefined","some","v","push","handleNext","prevId","handlePrev","handleVideoPlay","videoId","currentIframe","document","getElementById","contentWindow","postMessage","Array","isArray","console","error","className","children","displayVideos","id","onClick","videoUrl","title","subtitle","isPlaying","onPlay","thumbnail","from","_"],"sources":["C:/Users/mirei/Desktop/video-gallery/src/VideoSlider.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport DriveVideoEmbed from \"./DriveVideoEmbed.jsx\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\n\r\nfunction VideoSlider({ videoList, currentVideoId, setCurrentVideoId }) {\r\n    const isDesktop = useMediaQuery({ query: \"(min-width: 801px)\" });\r\n    const vertical = videoList[0]?.vertical || false;\r\n    const [initialId, setInitialId] = useState(0);\r\n    const visibleVideos = isDesktop ? (vertical ? 4 : 2) : (vertical ? 2 : 1);\r\n\r\n    function assignListIds(videos) {\r\n        return videos.map((video, listId) => ({ ...video, listId }));\r\n    }\r\n\r\n    videoList = assignListIds(videoList);\r\n\r\n    const getDisplayVideos = (startIndex) => {\r\n        const videos = [];\r\n        for (let i = 0; i < visibleVideos; i++) {\r\n            const video = videoList[(startIndex + i) % videoList.length];\r\n            if (video && video.listId !== undefined && !videos.some((v) => v.listId === video.listId)) {\r\n                videos.push(video);\r\n            }\r\n        }\r\n        return videos;\r\n    };\r\n\r\n    const handleNext = () => {\r\n        setInitialId((prevId) => (prevId + visibleVideos) % videoList.length);\r\n    };\r\n\r\n    const handlePrev = () => {\r\n        setInitialId((prevId) => (prevId - visibleVideos + videoList.length) % videoList.length);\r\n    };\r\n\r\n    const handleVideoPlay = (videoId) => {\r\n        if (currentVideoId && currentVideoId !== videoId) {\r\n            const currentIframe = document.getElementById(`iframe-${currentVideoId}`);\r\n            if (currentIframe) {\r\n                currentIframe.contentWindow.postMessage(\r\n                    '{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}',\r\n                    \"*\"\r\n                );\r\n            }\r\n        }\r\n\r\n        setCurrentVideoId(videoId);\r\n    };\r\n\r\n    if (!Array.isArray(videoList)) {\r\n        console.error(\"Invalid or empty videoList:\", videoList);\r\n        return null;\r\n    }\r\n\r\n    if (videoList.length === 0) {\r\n        return <p className=\"no-videos-message\">No videos match your search.</p>;\r\n    }\r\n\r\n    const displayVideos = getDisplayVideos(initialId);\r\n\r\n    return (\r\n        <div className=\"video-slider\">\r\n            <div className=\"arrows-videos-container\">\r\n                {videoList.length > visibleVideos && (\r\n                    <button className=\"arrows\" id=\"prev\" onClick={handlePrev}>\r\n                        &#10094;\r\n                    </button>\r\n                )}\r\n\r\n                <div className={`videos-container ${vertical ? \"\" : \"horizontal\"}`}>\r\n                    {displayVideos.map((video) => (\r\n                        <div key={video.id} className=\"video-item\">\r\n                            <DriveVideoEmbed\r\n                                videoUrl={video.videoUrl}\r\n                                vertical={video.vertical}\r\n                                title={video.title}\r\n                                subtitle={video.subtitle}\r\n                                videoId={video.id}\r\n                                isPlaying={currentVideoId === video.id}\r\n                                onPlay={handleVideoPlay}\r\n                                thumbnail={video.thumbnail}\r\n                            />\r\n                            <h3>{video.title}</h3>\r\n                            <p>{video.subtitle}</p>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {videoList.length > visibleVideos && (\r\n                    <button className=\"arrows\" id=\"next\" onClick={handleNext}>\r\n                        &#10095;\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"dots-container\">\r\n                {Array.from({ length: videoList.length }, (_, i) => (\r\n                    <span\r\n                        key={i}\r\n                        className={`dot ${displayVideos.some((v) => v.listId === i) ? \"active\" : \"\"}`}\r\n                        onClick={() => setInitialId(i)}\r\n                    ></span>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default VideoSlider;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}